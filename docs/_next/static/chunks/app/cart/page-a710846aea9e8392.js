(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5],{2341:(e,t,s)=>{"use strict";s.d(t,{default:()=>u});var a=s(5155),r=s(2115),l=s(6874),i=s.n(l),n=s(6766),o=s(8088),c=s(351),d=s(760),m=s(9932);let x=e=>{let{isOpen:t,onClose:s,onUpdate:l,postalCode:i,setPostalCode:n}=e,[o,x]=(0,r.useState)(!1),[u,h]=(0,r.useState)("");return(0,a.jsx)(d.N,{children:t&&(0,a.jsx)("div",{className:"fixed inset-0 flex justify-center items-center z-50 backdrop-blur-md bg-gray-800/30",onClick:s,children:(0,a.jsxs)(m.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2,ease:"easeOut"},className:"bg-white/90 p-6 rounded-lg shadow-lg w-96 relative",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("button",{className:"absolute top-3 right-3 text-gray-300 hover:text-gray-500",onClick:s,children:(0,a.jsx)(c.yGN,{size:20})}),(0,a.jsx)("h2",{className:"text-xl font-semibold mb-2 text-gray-800",children:"Choose your location"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Delivery options and speeds may vary based on your location."}),(0,a.jsx)("div",{className:"text-center text-gray-500 text-sm mb-2",children:"Enter your zip code"}),(0,a.jsxs)("div",{className:"relative flex items-center bg-white/20 backdrop-blur-md border border-white/30 rounded-lg p-3 shadow-md mb-4",children:[(0,a.jsx)("input",{type:"text",value:i,onChange:e=>n(e.target.value),className:"w-full bg-transparent pl-10 text-gray-900 placeholder-gray-500 focus:outline-none",placeholder:"Enter zip code"}),(0,a.jsx)("button",{className:"absolute right-3 text-gray-500 hover:text-gray-700",onClick:()=>{l(i),s()},children:(0,a.jsx)("span",{className:"text-xs text-gray-900",children:"Apply"})})]}),(0,a.jsx)("div",{className:"text-center text-gray-500 text-sm mb-2",children:"Or use your current location"}),(0,a.jsx)("div",{className:"w-full text-center mb-4",children:(0,a.jsx)("button",{className:"w-full bg-gray-900 text-white py-2 rounded-lg hover:bg-gray-800 transition",onClick:()=>{if(x(!0),h(""),!navigator.geolocation){h("Geolocation is not supported by your browser."),x(!1);return}navigator.geolocation.getCurrentPosition(async e=>{let{latitude:t,longitude:a}=e.coords;try{var r;let e=await fetch("https://nominatim.openstreetmap.org/reverse?format=json&lat=".concat(t,"&lon=").concat(a)),i=await e.json();(null===(r=i.address)||void 0===r?void 0:r.postcode)?(n(i.address.postcode),l(i.address.postcode),s()):h("Could not find postal code for your location.")}catch(e){h("Error fetching location details.")}x(!1)},()=>{h("Unable to retrieve location."),x(!1)})},disabled:o,children:o?"Detecting...":"Use my location"})}),u&&(0,a.jsx)("p",{className:"text-red-500 text-sm text-center",children:u})]})})})},u=()=>{let[e,t]=(0,r.useState)(null),{cartCount:s}=(0,o._)(),[l,d]=(0,r.useState)(!1),[m,u]=(0,r.useState)("");return(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("https://ipapi.co/json/"),s=await e.json();s.region&&s.postal?(t({region:s.region,postal:s.postal}),u(s.postal)):t(null)}catch(e){t(null)}})()},[]),(0,a.jsxs)("nav",{className:"bg-gray-900 text-white py-4 px-8 shadow-lg w-full z-50 sticky top-0 flex items-center justify-between",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(i(),{href:"/",className:"flex items-center",children:(0,a.jsx)(n.default,{src:"/logo/logo.png",alt:"PowerHaus Logo",width:180,height:100,className:"cursor-pointer object-contain"})})}),(0,a.jsx)("div",{className:"absolute left-1/2 transform -translate-x-1/2 flex items-start",children:(0,a.jsxs)("div",{className:"flex flex-col items-start",children:[(0,a.jsxs)("p",{className:"text-xs font-medium",children:["Delivering to ",e?"".concat(e.region,", ").concat(e.postal):"Location unavailable"]}),(0,a.jsxs)("div",{className:"flex items-center text-sm font-bold text-white cursor-pointer hover:text-orange-400 transition mt-1",onClick:()=>d(!0),children:[(0,a.jsx)(c.HzC,{className:"mr-2 -ml-6",size:20}),(0,a.jsx)("span",{children:"Update location"})]})]})}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i(),{href:"/cart",children:(0,a.jsx)(n.default,{src:"/icons/shopping-cart.png",alt:"Shopping Cart",width:44,height:24,className:"cursor-pointer hover:text-orange-500 transition"})}),(0,a.jsx)("span",{className:"absolute top-0 right-0 bg-orange-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:s>0?s:0})]}),(0,a.jsx)(x,{isOpen:l,onClose:()=>d(!1),onUpdate:s=>{u(s),t({region:(null==e?void 0:e.region)||"Unknown",postal:s}),d(!1)},postalCode:m,setPostalCode:u})]})}},6039:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>w});var a=s(5155),r=s(2115),l=s(351),i=s(8088),n=s(2341),o=s(6874),c=s.n(o),d=s(6766),m=s(9911);let x=()=>(0,a.jsx)("footer",{className:"bg-gray-900 text-gray-300 py-10 px-8",children:(0,a.jsxs)("div",{className:"container mx-auto flex flex-col md:flex-row items-center justify-between text-center md:text-left",children:[(0,a.jsxs)("div",{className:"md:w-1/3 mb-6 md:mb-0",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-400",children:["\xa9 ",new Date().getFullYear()," PowerHaus. All rights reserved."]}),(0,a.jsxs)("nav",{className:"mt-2 text-xs text-gray-500 space-y-1",children:[(0,a.jsx)(c(),{href:"/privacy-policy",className:"block hover:text-white transition",children:"Privacy Policy"}),(0,a.jsx)(c(),{href:"/terms",className:"block hover:text-white transition",children:"Terms of Service"})]})]}),(0,a.jsx)("div",{className:"md:w-1/3 flex justify-center mb-6 md:mb-0",children:(0,a.jsx)(c(),{href:"/",children:(0,a.jsx)(d.default,{src:"/logo/logo.png",alt:"PowerHaus Logo",width:200,height:110,className:"cursor-pointer object-contain"})})}),(0,a.jsxs)("div",{className:"md:w-1/3 flex justify-center md:justify-end space-x-6 text-xl",children:[(0,a.jsx)("a",{href:"#",className:"hover:text-orange-400 transition",children:(0,a.jsx)(m.iYk,{})}),(0,a.jsx)("a",{href:"#",className:"hover:text-orange-400 transition",children:(0,a.jsx)(m.feZ,{})}),(0,a.jsx)("a",{href:"#",className:"hover:text-orange-400 transition",children:(0,a.jsx)(m.ao$,{})}),(0,a.jsx)("a",{href:"mailto:contact@powerhaus.com",className:"hover:text-orange-400 transition",children:(0,a.jsx)(m.maD,{})})]})]})});var u=s(2177),h=s(2461),g=s(7129);let f=g.Ik().shape({firstName:g.Yj().required("First name is required").matches(/^[A-Za-z]+$/,"Only letters allowed"),lastName:g.Yj().required("Last name is required").matches(/^[A-Za-z]+$/,"Only letters allowed"),address:g.Yj().required("Address is required"),email:g.Yj().required("Email is required").email("Invalid email format")});var p=s(760),y=s(9932);let b=e=>{let{isOpen:t,onClose:s,onConfirm:r}=e;return(0,a.jsx)(p.N,{children:t&&(0,a.jsx)("div",{className:"fixed inset-0 flex justify-center items-center z-50 backdrop-blur-md bg-gray-800/40",onClick:s,children:(0,a.jsxs)(y.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2,ease:"easeOut"},className:"bg-white/30 p-6 rounded-lg shadow-xl w-full max-w-sm relative",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Confirm Your Order"}),(0,a.jsx)("p",{className:"text-gray-700 mb-6",children:"Are you sure you want to place your order with these details?"}),(0,a.jsxs)("div",{className:"flex space-x-6",children:[(0,a.jsx)("button",{className:"w-full bg-gray-300 text-gray-800 py-2 rounded-md hover:bg-gray-400 transition",onClick:s,children:"Cancel"}),(0,a.jsx)("button",{className:"w-full bg-gray-900 text-white py-2 rounded-md hover:bg-gray-800 transition",onClick:r,children:"Confirm"})]})]})})})},j=e=>{let{isOpen:t,onClose:s,onVerify:l,userEmail:i}=e,[n,o]=(0,r.useState)(""),[c,d]=(0,r.useState)(60),[m,x]=(0,r.useState)(!0);(0,r.useEffect)(()=>{if(c>0){let e=setInterval(()=>{d(e=>e-1)},1e3);return()=>clearInterval(e)}x(!1)},[c]);let u=async()=>{try{let e=await fetch("/api/sendVerificationCode",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i})}),t=await e.json();e.ok?console.log("Verification code sent:",t.message):console.log("Error:",t.error)}catch(e){console.error("Error sending verification code:",e)}};return(0,a.jsx)(p.N,{children:t&&(0,a.jsx)("div",{className:"fixed inset-0 flex justify-center items-center z-50 backdrop-blur-md bg-gray-800/40",onClick:s,children:(0,a.jsxs)(y.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2,ease:"easeOut"},className:"bg-white/30 p-6 rounded-lg shadow-xl w-full max-w-md relative",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Email Verification"}),(0,a.jsx)("p",{className:"text-gray-800 mb-4",children:"Weâ€™ve sent a verification code to your email. Please enter it below."}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-800",children:"Verification Code"}),(0,a.jsx)("input",{type:"text",value:n,onChange:e=>o(e.target.value),className:"w-full p-2 border rounded-md bg-white/30 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-900"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("button",{onClick:()=>{d(60),x(!0),u()},className:"text-sm ".concat(m?"text-gray-400":"text-blue-600"),disabled:m,children:m?"Resend in ".concat(c,"s"):"Resend Code"}),(0,a.jsx)("button",{onClick:()=>{n&&(l(n),s())},className:"bg-gray-900 text-white py-2 px-6 rounded-md hover:bg-gray-800 transition",children:"Verify"})]})]})})})},N=(e,t,s)=>{e("firstName",""),e("lastName",""),e("address",""),e("email",""),t(!1),s("")},v=e=>{let{isOpen:t,onClose:s}=e,{register:l,handleSubmit:i,formState:{errors:n},setValue:o}=(0,u.mN)({resolver:(0,h.t)(f)}),[c,d]=(0,r.useState)(!1),[m,x]=(0,r.useState)(!1),[g,v]=(0,r.useState)(!1),[w,C]=(0,r.useState)(""),k=async e=>new Promise(t=>{setTimeout(()=>{t("verifiedemail@example.com"===e)},1e3)});(0,r.useEffect)(()=>{t&&N(o,x,C)},[t,o,x,C]),(0,r.useEffect)(()=>(document.body.style.overflow=t||c||g?"hidden":"auto",()=>{document.body.style.overflow="auto"}),[t,c,g]);let S=async e=>{if(C(e.email),m){d(!0);return}await k(e.email)?(x(!0),d(!0)):v(!0)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.N,{children:t&&(0,a.jsx)("div",{className:"fixed inset-0 flex justify-center items-center z-50 backdrop-blur-md bg-gray-800/40",onClick:s,children:(0,a.jsxs)(y.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2,ease:"easeOut"},className:"bg-white/30 p-6 rounded-lg shadow-xl w-full max-w-md relative",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"How can we address you?"}),(0,a.jsxs)("form",{onSubmit:i(S),children:[(0,a.jsxs)("div",{className:"flex space-x-4 mb-4",children:[(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("label",{className:"block text-gray-800 ".concat(n.firstName?"text-red-600":""),children:"First Name"}),(0,a.jsx)("input",{...l("firstName"),className:"w-full p-2 border rounded-md bg-white/30 placeholder-gray-500 focus:outline-none focus:ring-2 ".concat(n.firstName?"border-red-600 focus:ring-red-600":"focus:ring-gray-900")}),n.firstName&&(0,a.jsx)("span",{className:"text-red-600 text-sm",children:n.firstName.message})]}),(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("label",{className:"block text-gray-800 ".concat(n.lastName?"text-red-600":""),children:"Last Name"}),(0,a.jsx)("input",{...l("lastName"),className:"w-full p-2 border rounded-md bg-white/30 placeholder-gray-500 focus:outline-none focus:ring-2 ".concat(n.lastName?"border-red-600 focus:ring-red-600":"focus:ring-gray-900")}),n.lastName&&(0,a.jsx)("span",{className:"text-red-600 text-sm",children:n.lastName.message})]})]}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"How can we contact you?"}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-800 ".concat(n.address?"text-red-600":""),children:"Address"}),(0,a.jsx)("input",{...l("address"),className:"w-full p-2 border rounded-md bg-white/30 placeholder-gray-500 focus:outline-none focus:ring-2 ".concat(n.address?"border-red-600 focus:ring-red-600":"focus:ring-gray-900")}),n.address&&(0,a.jsx)("span",{className:"text-red-600 text-sm",children:n.address.message})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-800 ".concat(n.email?"text-red-600":""),children:"Email"}),(0,a.jsx)("input",{...l("email"),type:"email",className:"w-full p-2 border rounded-md bg-white/30 placeholder-gray-500 focus:outline-none focus:ring-2 ".concat(n.email?"border-red-600 focus:ring-red-600":"focus:ring-gray-900")}),n.email&&(0,a.jsx)("span",{className:"text-red-600 text-sm",children:n.email.message}),m&&(0,a.jsx)("span",{className:"text-gray-900 text-sm ml-2",children:"âœ” Verified"})]}),(0,a.jsxs)("div",{className:"mt-6 flex space-x-6",children:[(0,a.jsx)("button",{type:"button",className:"w-full bg-gray-300 text-gray-800 py-2 rounded-md hover:bg-gray-400 transition",onClick:s,children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"w-full bg-gray-900 text-white py-2 rounded-md hover:bg-gray-800 transition",children:"Submit"})]})]})]})})}),(0,a.jsx)(b,{isOpen:c,onClose:()=>d(!1),onConfirm:()=>{d(!1),s()}}),(0,a.jsx)(j,{isOpen:g,onClose:()=>v(!1),onVerify:()=>{x(!0),v(!1),o("email",w)},userEmail:w})]})},w=()=>{let{cartItems:e,updateQuantity:t,removeFromCart:s,getTotalPrice:o}=(0,i._)(),m=(0,r.useMemo)(()=>o().toFixed(2),[o]),[u,h]=(0,r.useState)(!1);return(0,a.jsxs)("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-white/90 via-white/70 to-gray-200",children:[(0,a.jsx)(n.default,{}),(0,a.jsx)("main",{className:"flex-1 container mx-auto p-6",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-8",children:[(0,a.jsxs)("div",{className:"flex flex-col w-full md:w-2/3 gap-8",children:[(0,a.jsxs)("div",{className:"p-6 rounded-lg backdrop-blur-md bg-white/30 shadow-xl",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Shopping Cart"}),0===e.length?(0,a.jsx)("p",{className:"text-center text-gray-600",children:"Your cart is empty."}):(0,a.jsx)("div",{children:e.map(e=>{let{id:r,name:i,price:n,quantity:o}=e;return(0,a.jsxs)("div",{className:"flex justify-between items-center p-4 mb-4 rounded-md",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:i}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Price: $",n?n.toFixed(2):"N/A"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("button",{className:"p-2 rounded-full text-gray-600 border border-gray-400 hover:bg-gray-300 transition disabled:opacity-50",onClick:()=>t(r,o-1),disabled:o<=1,children:(0,a.jsx)(l.QLg,{})}),(0,a.jsx)("span",{className:"text-gray-700 font-medium",children:o}),(0,a.jsx)("button",{className:"p-2 rounded-full text-gray-600 border border-gray-400 hover:bg-gray-300 transition",onClick:()=>t(r,o+1),children:(0,a.jsx)(l.GGD,{})}),(0,a.jsx)("button",{className:"p-2 text-orange-500 hover:text-orange-400 transition",onClick:()=>s(r),children:(0,a.jsx)(l.Q_v,{size:20})})]})]},r)})})]}),(0,a.jsxs)("div",{className:"p-6 rounded-lg backdrop-blur-md bg-white/30 shadow-xl",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Order Summary"}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:"Total:"}),(0,a.jsxs)("p",{className:"text-2xl font-semibold text-orange-600",children:["$",m]})]}),(0,a.jsx)("button",{onClick:()=>{h(!0)},className:"w-full bg-gray-900 text-white py-3 rounded-lg hover:bg-gray-800 transition",children:"Proceed to Checkout"})]})]}),(0,a.jsx)(c(),{href:"/shop",children:(0,a.jsx)("div",{className:"flex w-full justify-center items-center min-h-[300px] md:min-h-[500px]",children:(0,a.jsxs)("div",{className:"p-6 rounded-lg shadow-xl cursor-pointer flex flex-col items-center bg-white/30 backdrop-blur-md",children:[(0,a.jsx)("div",{className:"relative w-full h-48",children:(0,a.jsx)(d.default,{src:"/images/sales.jpg",alt:"Weekly Deals",layout:"fill",objectFit:"cover",className:"rounded-lg"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mt-4 mb-2",children:"Weekly Deals"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Best discounts on select products this week."})]})})})]})}),(0,a.jsx)(x,{}),(0,a.jsx)(v,{isOpen:u,onClose:()=>{h(!1)}})]})}},6827:(e,t,s)=>{Promise.resolve().then(s.bind(s,6039))},8088:(e,t,s)=>{"use strict";s.d(t,{CartProvider:()=>i,_:()=>n});var a=s(5155),r=s(2115);let l=(0,r.createContext)(void 0),i=e=>{let{children:t}=e,[s,i]=(0,r.useState)([]);(0,r.useEffect)(()=>{try{let e=localStorage.getItem("cart");if(e){let t=JSON.parse(e);Array.isArray(t)&&i(t.map(e=>{var t;return{...e,price:isNaN(Number(e.price))?0:Number(e.price),image:(null===(t=e.image)||void 0===t?void 0:t.trim())||"/images/default-image.jpg",quantity:e.quantity||1}}))}}catch(e){localStorage.removeItem("cart")}},[]),(0,r.useEffect)(()=>{s.length?localStorage.setItem("cart",JSON.stringify(s)):localStorage.removeItem("cart")},[s]);let n=s.reduce((e,t)=>e+t.quantity,0);return(0,a.jsx)(l.Provider,{value:{cartItems:s,cartCount:n,addToCart:e=>{e.id&&e.name&&i(t=>{var s;return t.find(t=>t.id===e.id)?t.map(t=>t.id===e.id?{...t,quantity:t.quantity+(e.quantity||1)}:t):[...t,{...e,price:isNaN(Number(e.price))?0:Number(e.price),image:(null===(s=e.image)||void 0===s?void 0:s.trim())||"/images/default-image.jpg",quantity:e.quantity||1}]})},removeFromCart:e=>{i(t=>t.filter(t=>t.id!==e))},updateQuantity:(e,t)=>{t<1||i(s=>s.map(s=>s.id===e?{...s,quantity:t}:s))},clearCart:()=>{i([]),localStorage.removeItem("cart")},getTotalPrice:()=>s.reduce((e,t)=>e+Number(t.price)*t.quantity,0)},children:t})},n=()=>{let e=(0,r.useContext)(l);if(!e)throw Error("useCart must be used within a CartProvider");return e}}},e=>{var t=t=>e(e.s=t);e.O(0,[711,844,196,757,441,684,358],()=>t(6827)),_N_E=e.O()}]);